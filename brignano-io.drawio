<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.5.1 Chrome/142.0.7444.265 Electron/39.6.1 Safari/537.36" version="29.5.1">
  <diagram id="brignano-io-workspace" name="Terraform Workspace">
    <mxGraphModel dx="786" dy="604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="1250" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="workspace-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="" vertex="1">
          <mxGeometry height="420" width="820" x="140" y="120" as="geometry" />
        </mxCell>
        <mxCell id="alias-edge" edge="1" parent="1" source="route53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#666666;fontColor=#000000;labelBackgroundColor=#f5f5f5;" target="amplify" value="branch">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="workspace-title" parent="1" style="text;whiteSpace=wrap;html=1;align=left;verticalAlign=top;fontSize=14;labelBackgroundColor=#f5f5f5;" value="&lt;b&gt;Terraform Cloud Workspace: brignano-io&lt;/b&gt;&lt;br&gt;Organization: brignano&lt;br&gt;Workspace URL: https://app.terraform.io/app/brignano/workspaces/brignano-io&lt;br&gt;Managed resources: 2" vertex="1">
          <mxGeometry height="80" width="420" x="170" y="150" as="geometry" />
        </mxCell>
        <mxCell id="route53" parent="1" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" value="aws_amplify_app.brignano_io" vertex="1">
          <mxGeometry height="90" width="90" x="300" y="300" as="geometry" />
        </mxCell>
        <mxCell id="amplify" parent="1" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" value="aws_amplify_branch.main" vertex="1">
          <mxGeometry height="90" width="90" x="690" y="300" as="geometry" />
        </mxCell>
        <mxCell id="step1" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#dae8fc;strokeColor=#6c8ebf;labelBackgroundColor=default;" value="1" vertex="1">
          <mxGeometry height="20" width="20" x="280" y="276" as="geometry" />
        </mxCell>
        <mxCell id="step2" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#dae8fc;strokeColor=#6c8ebf;labelBackgroundColor=default;" value="2" vertex="1">
          <mxGeometry height="20" width="20" x="500" y="286" as="geometry" />
        </mxCell>
        <mxCell id="layman" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;align=left;verticalAlign=top;spacing=8;labelBackgroundColor=#e1f5fe;" value="&lt;b&gt;Plain-language Summary&lt;/b&gt;&lt;br&gt;This workspace intentionally configures only Amplify hosting. One resource defines the Amplify app; the other connects the main branch so builds/deployments run for that branch. DNS/email infrastructure is handled in the separate aws-config workspace." vertex="1">
          <mxGeometry height="80" width="820" x="140" y="560" as="geometry" />
        </mxCell>
        <mxCell id="tfInventory" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;align=left;verticalAlign=top;spacing=8;labelBackgroundColor=#ffffff;" value="&lt;b&gt;Full Terraform Resource Inventory&lt;/b&gt;&lt;br&gt;aws_amplify_app.brignano_io&lt;br&gt;aws_amplify_branch.main" vertex="1">
          <mxGeometry height="90" width="820" x="140" y="650" as="geometry" />
        </mxCell>
        <mxCell id="awsRuntime" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;align=left;verticalAlign=top;spacing=8;labelBackgroundColor=#e8f5e9;" value="&lt;b&gt;AWS Runtime Inventory (live)&lt;/b&gt;&lt;br&gt;Account: 549188633263 | Region: us-east-1&lt;br&gt;Amplify runtime app identifiers: unavailable with current IAM permissions (AccessDenied on amplify:ListApps).&lt;br&gt;Known runtime scope: Amplify app + main branch only (from Terraform state)." vertex="1">
          <mxGeometry height="110" width="820" x="140" y="750" as="geometry" />
        </mxCell>
        <mxCell id="tfAwsMap" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;align=left;verticalAlign=top;spacing=8;labelBackgroundColor=#f3e5f5;" value="&lt;b&gt;Terraform → AWS Runtime Mapping&lt;/b&gt;&lt;br&gt;aws_amplify_app.brignano_io → AWS Amplify App (runtime AppId/name requires amplify:ListApps permission)&lt;br&gt;aws_amplify_branch.main → Branch resource under aws_amplify_app.brignano_io (branch: main)" vertex="1">
          <mxGeometry height="110" width="820" x="140" y="870" as="geometry" />
        </mxCell>
        <mxCell id="behavior" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;spacing=8;labelBackgroundColor=#fff2cc;" value="&lt;b&gt;Behavior Summary (durable)&lt;/b&gt;&lt;br&gt;1) Trigger/Input: Terraform apply in brignano-io workspace. Resources: aws_amplify_app.brignano_io. Action: create/update Amplify app container. Output: app exists as deployment target. Debug: Terraform apply logs/state + Amplify console (if access).&lt;br&gt;2) Trigger/Input: branch configuration apply. Resources: aws_amplify_branch.main + alias-edge link to app. Action: bind main branch to Amplify app for build/deploy pipeline. Output: main branch deployments are served by Amplify app. Debug: Terraform apply logs/state + Amplify branch build logs (if access)." vertex="1">
          <mxGeometry height="170" width="820" x="140" y="990" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
